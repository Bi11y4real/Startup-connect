<%- include('partials/header') %>

<main class="flex-grow py-12 bg-gray-50">
    <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row justify-between items-start mb-8">
            <div>
                <h1 class="text-3xl font-bold text-gray-900 mb-2">Discover Projects</h1>
                <p class="text-gray-600">Find exciting projects to collaborate on or invest in.</p>
            </div>
            
            <!-- Filters -->
            <div class="mt-4 md:mt-0 w-full md:w-auto">
                <form action="/projects" method="GET" class="flex flex-wrap gap-4">
                    <div class="w-full sm:w-auto">
                        <select name="industry" 
                                class="w-full sm:w-48 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary">
                            <option value="">All Industries</option>
                            <% industries.forEach(industry => { %>
                                <option value="<%= industry %>" 
                                        <%= currentFilters.industry === industry ? 'selected' : '' %>>
                                    <%= industry %>
                                </option>
                            <% }); %>
                        </select>
                    </div>
                    
                    <div class="w-full sm:w-auto">
                        <select name="status" 
                                class="w-full sm:w-48 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary">
                            <option value="">All Status</option>
                            <option value="active" <%= currentFilters.status === 'active' ? 'selected' : '' %>>Active</option>
                            <option value="funded" <%= currentFilters.status === 'funded' ? 'selected' : '' %>>Funded</option>
                            <option value="completed" <%= currentFilters.status === 'completed' ? 'selected' : '' %>>Completed</option>
                        </select>
                    </div>

                    <button type="submit" 
                            class="w-full sm:w-auto px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors">
                        Apply Filters
                    </button>

                    <% if (Object.keys(currentFilters).length > 0) { %>
                        <a href="/projects" 
                           class="w-full sm:w-auto px-6 py-2 text-gray-600 hover:text-gray-900 text-center">
                            Clear Filters
                        </a>
                    <% } %>
                </form>
            </div>
        </div>

        <% if (projects.length === 0) { %>
            <div class="text-center py-12">
                <div class="text-4xl mb-4">üîç</div>
                <h3 class="text-xl font-semibold text-gray-900 mb-2">No Projects Found</h3>
                <p class="text-gray-600">Try adjusting your filters or check back later for new projects.</p>
            </div>
        <% } else { %>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <% projects.forEach(project => { %>
                    <%- include('partials/projectCard', { project: project }) %>
                <% }); %>
            </div>
        <% } %>
    </div>
</main>

<%- include('partials/footer') %> 